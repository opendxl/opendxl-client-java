<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_101) on Tue Dec 01 14:07:10 PST 2020 -->
<title>CommandLineInterface (dxlclient 0.2.6 API)</title>
<meta name="date" content="2020-12-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CommandLineInterface (dxlclient 0.2.6 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/opendxl/client/cli/CommandLineInterface.html" target="_top">Frames</a></li>
<li><a href="CommandLineInterface.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.opendxl.client.cli</div>
<h2 title="Class CommandLineInterface" class="title">Class CommandLineInterface</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.opendxl.client.cli.CommandLineInterface</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CommandLineInterface</span>
extends java.lang.Object</pre>
<div class="block">Main class for the OpenDXL Java Client CLI commands.
 <p>
 There are three CLI commands for the OpenDXL Java Client:
 </p>
 <table style="border-spacing: 0px;">
 <caption>List of CLI commands for OpenDXL Java Client</caption>
 <tr style="background-color: #CCCCFF;">
 <th id="commandName" style="text-align: left; white-space: nowrap; padding: 8px;">Command Name</th>
 <th id="commandInfo" style="text-align: left; padding: 8px;">Command Information</th>
 </tr>
 <tr>
 <th style="vertical-align: top; padding: 8px;">provisionconfig</th>
 <td style="vertical-align: top; padding: 8px;">
 This command is for provisioning a DXL Client and performs the following steps:
 <ul>
 <li>
 Either generates a certificate signing request and private key, storing
 each to a file, (the default) or reads the certificate signing request
 from a file (if the "-r" argument is specified).
 </li>
 <li>
 Sends the certificate signing request to a signing endpoint on a
 management server. The HTTP response payload for this request should look
 like the following:
 </li>
 </ul>
 <br>
 <pre>
     OK:
     "[ca bundle],[signed client cert],[broker config]"
 </pre>
 <p>
 Sections of the response include:
 </p>
 <ul>
 <li>
 A line with the text "OK:" if the request was successful, else
 "ERROR &lt;code&gt;:" on failure.
 </li>
 <li>A JSON-encoded string with a double-quote character at the beginning
 and end and with the following parts, comma-delimited:
 <ul>
 <li>
 [ca bundle] - a concatenation of one or more PEM-encoded CA
 certificates
 </li>
 <li>
 [signed client cert] - a PEM-encoded certificate signed from the
 certificate request
 </li>
 <li>[broker config] - zero or more lines, each delimited by a line feed
 character, for each of the brokers known to the management service.
 Each line contains a key and value, delimited by an equal sign. The
 key contains a broker guid. The value contains other metadata for the
 broker, e.g., the broker guid, port, hostname, and ip address. For
 example: "[guid1]=[guid1];8883;broker;10.10.1.1\n[guid2]=[guid2]...".
 </li>
 </ul>
 </li>
 <li>
 Saves the [ca bundle] and [signed client cert] to separate files.
 </li>
 <li>
 Creates a "dxlclient.config" file with the following sections:
 <ul>
 <li>
 A "Certs" section with certificate configuration which refers to the
 locations of the private key, ca bundle, and certificate files.
 </li>
 <li>
 A "Brokers" section with the content of the [broker config] provided
 by the management service.
 </li>
 </ul>
 </li>
 </ul>
 <p>
 To invoke this CLI command, the first argument must be <i>provisionconfig</i>. For example:
 </p>
 <pre>
     $&gt; java -jar dxlclient-0.1.0-all.jar provisionconfig ...
 </pre>
 <p>
 The provision DXL Client command requires three CLI arguments:
 </p>
 <ul>
 <li>
 CONFIGDIR - The path to the configuration directory
 </li>
 <li>
 HOSTNAME - The hostname where the management service resides
 </li>
 <li>
 COMMON_OR_CSRFILE_NAME - The Common Name (CN) in the Subject DN for a new csr or the filename for a
 pre-existing csr if the <i>-r</i> option is also used as CLI argument
 </li>
 </ul>
 <p>
 An example usage of this command is the following:
 </p>
 <pre>
     $&gt; java -jar dxlclient-0.1.0-all.jar provisionconfig config myserver dxlclient1
 </pre>
 <p>
 <b>Note:</b> If the command must route through a proxy to reach the management server then use standard Java system
 properties to declare the https proxy host, port, user name, and password.
 (<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html" target="_blank">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a>)
 An example usage of this command with Java system properties for the proxy settings is the following:
 </p>
 <pre>
     $&gt; java -Dhttps.proxyHost=proxy.mycompany.com -Dhttps.proxyPort=3128
     -Dhttps.proxyUser=proxyUser -Dhttps.proxyPassword=proxyPassword
     -jar dxlclient-0.1.0-all.jar provisionconfig config myserver dxlclient1
 </pre>
 </td>
 </tr>
 <tr>
 <th style="vertical-align: top; padding: 8px;">updateconfig</th>
 <td style="vertical-align: top; padding: 8px;">
 This command is for updating the DXL client configuration in the dxlclient.config file, specifically the
 ca bundle and broker configuration.
 <p>
 This command performs the following steps:
 </p>
 <ul>
 <li>
 Sends a request to a management server endpoint for the latest ca bundle
 information. The HTTP response payload for this request should look
 like the following:
 <br>
 <pre>
     OK:
     "[ca bundle]"
 </pre>
 Sections of the response include:
 <ul>
 <li>
 A line with the text "OK:" if the request was successful, else
 "ERROR [code]:" on failure.
 </li>
 <li>
 A JSON-encoded string with a double-quote character at the beginning
 and end. The string contains a concatenation of one or more PEM-encoded
 CA certificates.
 </li>
 </ul>
 </li>
 <li>
 Saves the [ca bundle] to the file at the location specified in the
 "BrokerCertChain" setting in the "Certs" section of the dxlclient.config
 file.
 </li>
 <li>
 Sends a request to a management server endpoint for the latest broker
 configuration. The HTTP response payload for this request should look
 like the following:
 <pre>
     OK:
     "[broker config]"
 </pre>
 Sections of the response include:
 <ul>
 <li>
 A line with the text "OK:" if the request was successful, else
 "ERROR [code]:" on failure.
 </li>
 <li>
 A JSON-encoded string with a double-quote character at the beginning
 and end. The string should contain a JSON document which looks similar
 to the following:
 <pre>
     {
         "brokers": [
             {
                 "guid": "{2c5b107c-7f51-11e7-0ebf-0800271cfa58}",
                 "hostName": "broker1",
                 "ipAddress": "10.10.100.100",
                 "port": 8883
             },
             {
                 "guid": "{e90335b2-8dc8-11e7-1bc3-0800270989e4}",
                 "hostName": "broker2",
                 "ipAddress": "10.10.100.101",
                 "port": 8883
             },
             ...
         ],
         "brokersWebSockets": [
             {
                 "guid": "{2c5b107c-7f51-11e7-0ebf-0800271cfa58}",
                 "hostName": "broker1",
                 "ipAddress": "10.10.100.100",
                 "port": 443
             },
             {
                 "guid": "{e90335b2-8dc8-11e7-1bc3-0800270989e4}",
                 "hostName": "broker2",
                 "ipAddress": "10.10.100.101",
                 "port": 443
             },
             ...
         ],
         "certVersion": 0
     }
 </pre>
 </li>
 </ul>
 </li>
 <li>
 Saves the [broker config] to the "Brokers" and "BrokersWebSockets" sections of the
 dxlclient.config file.
 </li>
 </ul>
 <p>
 Updates to the dxlclient.config file do not attempt to preserve comments in the
 file. If a broker listed in the config file on disk is no longer known to the management server, the
 broker's config entry and any comments directly above it are removed from
 the config file.
 <p>
 An example usage of this command is the following:
 </p>
 <pre>
     $&gt; java -jar dxlclient-0.1.0-all.jar updateconfig config myserver
 </pre>
 <p>
 <b>Note:</b> If the command must route through a proxy to reach the management server then use standard Java system
 properties to declare the https proxy host, port, user name, and password.
 (<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html" target="_blank">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a>)
 An example usage of this command with Java system properties for the proxy settings is the following:
 </p>
 <pre>
     $&gt; java -Dhttps.proxyHost=proxy.mycompany.com -Dhttps.proxyPort=3128
     -Dhttps.proxyUser=proxyUser -Dhttps.proxyPassword=proxyPassword
     -jar dxlclient-0.1.0-all.jar updateconfig config myserver
 </pre>
 </td>
 </tr>
 <tr>
 <th style="vertical-align: top; padding: 8px;">generatecsr</th>
 <td style="vertical-align: top; padding: 8px;">
 This command is for generating a private key and CSR
 <p>
 The provision DXL Client command requires three CLI arguments:
 </p>
 <ul>
 <li>
 CONFIGDIR - The path to the configuration directory where the CSR and private key will be saved
 </li>
 <li>
 COMMON_NAME - The Common Name (CN) to use in the CSR's Subject DN
 </li>
 </ul>
 <p>
 An example usage of this command is the following:
 </p>
 <pre>
     $&gt; java -jar dxlclient-0.1.0-all.jar generatecsr config dxlclient1
 </pre>
 </td>
 </tr>
 </table></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/opendxl/client/cli/CommandLineInterface.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">Main entry point for the command line interface</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">Main entry point for the command line interface</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - The command line arguments</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/opendxl/client/cli/CommandLineInterface.html" target="_top">Frames</a></li>
<li><a href="CommandLineInterface.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
